% xelatex -shell-escape main.tex
\documentclass[landscape, twocolumn, a4paper]{article}
\usepackage{graphicx, amssymb, amsmath, textcomp, booktabs}
\usepackage[libertine,vvarbb]{newtxmath}
\usepackage[scr=rsfso]{mathalfa}
\usepackage[T1]{fontenc} % best for Western European languages
\usepackage{minted}
\usepackage{listings, color, setspace, titlesec, fancyhdr, mdframed, multicol}
\usepackage{ucharclasses}
\usepackage{xunicode, xltxtra}
\usepackage[inner=1.35cm, outer=0.9cm, top=1.3cm, bottom=1.3cm]{geometry}
\usepackage{pdfpages}
\usepackage{tocloft}
\usepackage{nameref}
\usepackage{verbatim}
\usepackage{relsize}
\usepackage{fontspec}
\usepackage[colorlinks, linkcolor = black]{hyperref}
\usepackage[table]{xcolor}
\usepackage{tabularx}
\usepackage{xeCJK}
\usepackage{multirow}
\usepackage{svg}

\usepackage{accsupp}
\newcommand\emptyaccsupp[1]{\BeginAccSupp{ActualText={}}#1\EndAccSupp{}}
%default definition is: \def\theFancyVerbLine{\rmfamily\tiny\arabic{FancyVerbLine}}
\let\theHFancyVerbLine\theFancyVerbLine% don't apply our patch to hyperref's version
\def\theFancyVerbLine{\rmfamily\tiny\emptyaccsupp{\arabic{FancyVerbLine}}}
% configure fonts


\setCJKmainfont{SimHei}[Scale=0.8]
\setCJKmonofont{SimHei}[Scale=0.8]
\setCJKsansfont{KaiTi}[Scale=0.8]

\setmainfont{Linux Libertine O}[Scale=0.925]
\setmonofont[Path=font/]{FiraCode-Regular}[Scale=0.8]

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt

% \titlespacing*{\section}{0pt}{-1\baselineskip}{0.0\baselineskip}
% \titlespacing*{\subsection}{0pt}{-1\baselineskip}{0.0\baselineskip}
% \titlespacing*{\subsubsection}{0pt}{0\baselineskip}{0.0\baselineskip}
% 段落间距

\setlength{\abovecaptionskip}{0pt}
\setlength{\belowcaptionskip}{0pt}

\abovedisplayshortskip=0pt
\belowdisplayshortskip=0pt
\abovedisplayskip=0pt
\belowdisplayskip=0pt

\setlength{\parskip}{0pt}

\date{}


\setminted[cpp]{
	style=xcode,
	mathescape,
	linenos,
	autogobble,
	baselinestretch=0.8,
	tabsize=3,
	fontsize=\normalsize,
	frame=single,
	framesep=1mm,
	framerule=0.3pt,
	numbersep=1mm,
	breaklines=true,
	breaksymbolsepleft=2pt,
	breakbytoken=false,
	showtabs=true,
	tab={\relscale{0.6} $\big\vert \ \ \ $ \relscale{1}},
}


\begin{document}
\begin{titlepage}
\onecolumn
\begin{figure*}[h]
	\centering
	\includegraphics[scale=0.5]{others/Peking_University_logo.png}
\end{figure*}


\begin{center}
    \includesvg{name/r.svg}
    \includesvg{name/o.svg}
    \includesvg{name/y.svg}
    \includesvg{name/g.svg}
    \includesvg{name/b.svg}
    \includesvg{name/p.svg}
\end{center}


% \vspace*{3cm}
% {\LARGE
% \centering
% \begin{tabular}{ccc@{\hspace{1.5cm}}ccc}
% \multicolumn{3}{c}{Coach} & \multicolumn{3}{c}{Contestant} \\
% 张勤建 & & 罗国杰 & 钱易 & 彭博 & 冯施源 \\
% Qinjian Zhang & & Guojie Luo & Yi Qian & Bo Peng & Shiyuan Feng \\
% \end{tabular}
% }


% \center\fontsize{20.0pt}{\baselineskip}\selectfont ICPC World Finals Luxor 

\thispagestyle{empty}
\pagebreak
\twocolumn
\end{titlepage}

\pagestyle{fancy}
    % \lhead{\large Peking University-Let it Rot}
    \rhead{\Huge \thepage}

\setcounter{tocdepth}{3}
		%\let\cleardoublepage\relax
		%\let\clearpage\relax
		\begin{small}
		\begin{spacing}{0.75}
		\tableofcontents
		\end{spacing}
		\end{small}

\section{图论}

% \subsection{欧拉回路} % !!! pb
% \inputminted{cpp}{contents/graph/eulertour.cpp}

\subsection{二分图匹配 | 最小边覆盖}
\inputminted{cpp}{contents/graph/bi_match.cpp}

\subsection{网络最大流 | dinic}
\inputminted{cpp}{contents/graph/dinic.cpp}

\subsection{最小费用流}
\inputminted{cpp}{contents/graph/MCMF.cpp}

% \subsection{二分图最大权匹配 | KM} % !!! pb
% \inputminted{cpp}{contents/graph/KM.cpp}

\subsection{一般图最大匹配 | 带花树}
\inputminted{cpp}{contents/graph/带花树.cpp}

\subsection{最小树形图}
抄罗大的，返回值是边的集合，如果没有最小树形图会返回空集（注意 $n=1$)，可以修改建图。
\inputminted{cpp}{contents/graph/D-MST.cpp}

\subsection{缩点 | kasaraju}
时间复杂度 $O(\frac{n^2}{w})$, 可以对于边修改不多的图快速计算。
\inputminted{cpp}{contents/graph/kasaraju.cpp}

% \subsection{缩点 | Tarjan} % !!! pb
% \inputminted{cpp}{contents/graph/tarjan.cpp}
% 
% \subsection{缩点 | 点双} % !!! pb
% \inputminted{cpp}{contents/graph/tarjan_vertex.cpp}
% 
% \subsection{缩点 | 边双} % !!! pb
% \inputminted{cpp}{contents/graph/tarjan_edge.cpp}
% 
% \subsection{仙人掌}
% \inputminted{cpp}{contents/graph/cactus.cpp}
% 
% \subsection{2-Sat}
% \inputminted{cpp}{contents/graph/2-sat.cpp}
% 
% \subsection{支配树}
% \inputminted{cpp}{contents/graph/支配树.cpp}
% 
% \subsection{三/四元环}
% \inputminted{cpp}{contents/graph/34cycle.cpp}
% 
% \subsection{双极定向}
% \inputminted{cpp}{contents/graph/双极定向.cpp}
\subsection{Tree And Graph}
\input{contents/graph/TreeAndGraph.tex}

% \subsection{拟阵交}
% \inputminted{cpp}{contents/graph/拟阵交.cpp}
% x

\section{数论}	

\subsection{取模还原分数}
\inputminted{cpp}{contents/numbertheory/approx.cpp}

\subsection{扩展欧几里得}
\inputminted{cpp}{contents/numbertheory/exgcd.cpp}

\subsection{万能欧几里得}
\inputminted{cpp}{contents/numbertheory/Euclid.cpp}

\subsection{直线下点数|欧几里得}
$n < 2 ^ {32}, 1 \leq m < 2 ^ {32}$

$$
result=\sum_{i=0}^{n-1} \lfloor \frac{ai + b}{m} \rfloor \pmod{2^{63}}
$$

\inputminted{cpp}{contents/numbertheory/floor_sum.cpp}

\subsection{Min of Mod of Linear}
$$
result=\min_{0 \leq i < n} \{ (a i + b) \% m \}
$$

\inputminted{cpp}{contents/numbertheory/minmod.cpp}

\subsection{Stern-Brocot Tree 二分}

\inputminted{cpp}{contents/numbertheory/sbt.cpp}

\subsection{扩展中国剩余定理}
\inputminted{cpp}{contents/numbertheory/exCRT.cpp}

\subsection{Miller-Rabin}
\inputminted{cpp}{contents/numbertheory/Miller_Rabin.cpp}

\subsection{Pollard-rho}
\inputminted{cpp}{contents/numbertheory/pollard_rho.cpp}

\section{Math}

\subsection{拉格朗日反演}
$$
\begin{aligned}
G(F(x))&=H(x)\Rightarrow [x^n]G(x)=\frac{1}{n}[u^{n-1}]H'(u)(\frac{u}{F(u)})^n\\
G(F(x))&=x\Rightarrow [x^n]H(G(x))=\frac{1}{n}[u^{n-1}]H'(u)(\frac{u}{F(u)})^n\\
G(F(x))&=x\Rightarrow [x^n]G^k(x)=\frac{k}{n}[u^{n-k}](\frac{u}{F(u)})^n
\end{aligned}
$$
\subsection{分拆数|五边形数}
$$
\prod_{i \ge 1} (1 - x ^ i)= \sum_{k = -\infty} ^ {\infty} (-1) ^ k x ^ {\frac{k(3k-1)}{2}}
$$


\subsection{Fast Fourier Transform}
\inputminted{cpp}{contents/math/FFT.cpp}

\subsection{Number Theoretic Transform}
\inputminted{cpp}{contents/math/NTT.cpp}

\subsection{Generating function}
\inputminted{cpp}{contents/math/GF_noExp.cpp}

\subsection{全在线卷积}
\inputminted{cpp}{contents/math/online_convolution.cpp}

\subsection{Berlekamp Massey}
\inputminted{cpp}{contents/math/BM.cpp}

\subsection{线性规划 | 单纯形法}
\inputminted{cpp}{contents/math/LP.cpp}

\subsection{Simpson 积分}

$$
\begin{aligned}
	\int_a^b f(x) dx &\approx
	\frac{b-a}{3n} (f(x_0) + 4 \sum_{i=1}^{n/2} f(x_{2i-1}) + 2 \sum_{i=1}^{n/2-1} f(x_{2i})+f(x_n)) \\
	&\approx \frac{3(b-a)}{8n} (f(x_0) + 3 \sum_{i=1}^{n/3} (f(x_{3i-1}) + f(x_{3i-2})) + 2 \sum_{i=1}^{n/3-1} f(x_{3i})+f(x_n))
\end{aligned}
$$

\subsection{黄金三分}
\inputminted{cpp}{contents/math/Goldensectionsearch.cpp}

\section{字符串}

\subsection{后缀自动机 | SAM}
需要两倍点数量。
\inputminted{cpp}{contents/string/SAM.cpp}

\subsection{回文自动机 | PAM}
\inputminted{cpp}{contents/string/PAM.cpp}

\subsection{AC 自动机}
\inputminted{cpp}{contents/string/AC自动机.cpp}

\subsection{SA}
\inputminted{cpp}{contents/string/SA.cpp}

\subsection{Z algorithm}
\inputminted{cpp}{contents/string/Zalgo.cpp}

\subsection{Manacher}
\inputminted{cpp}{contents/string/manacher.cpp}
% 
% \subsection{Lyndon/最小表示法}
% \inputminted{cpp}{contents/string/new_lyndon.cpp}

\section{数据结构}
\subsection{区间加区间求和 树状数组}
\inputminted{cpp}{contents/ds/ex-bit.cpp}

\subsection{zkw 线段树}
\inputminted{cpp}{contents/ds/zkw-sgt.cpp}

\subsection{Link Cut Tree}
\inputminted{cpp}{contents/ds/LCT.cpp}

\subsection{FHQ Treap} % !!! pb
\inputminted{cpp}{contents/ds/fhq.cpp}

\subsection{pbds tree}
\inputminted{cpp}{contents/ds/pbds_tree.cpp}

\section{geometry}
\subsection{向量}
\inputminted{cpp}{contents/geometry/向量.cpp}

\subsection{直线半平面}
\inputminted{cpp}{contents/geometry/直线半平面.cpp}

\subsection{半平面交}
\inputminted{cpp}{contents/geometry/半平面交.cpp}

\subsection{线段}
\inputminted{cpp}{contents/geometry/线段.cpp}

\subsection{多边形}
\inputminted{cpp}{contents/geometry/多边形.cpp}

\subsection{线段 in 多边形}
\inputminted{cpp}{contents/geometry/seg_in_polygon.cpp}

\subsection{图形求交}
\inputminted{cpp}{contents/geometry/图形交.cpp}

\subsection{凸包}
结果为逆时针。
\inputminted{cpp}{contents/geometry/凸包.cpp}

\subsection{上凸壳}
结果显然为顺时针。
\inputminted{cpp}{contents/geometry/上凸壳.cpp}

\subsection{最小圆覆盖}
\inputminted{cpp}{contents/geometry/最小圆覆盖.cpp}

\subsection{最近点对}
\inputminted{cpp}{contents/geometry/最近点对.cpp}

\subsection{凸包直径}
\inputminted{cpp}{contents/geometry/凸包直径.cpp}
% https://codeforces.com/blog/entry/48868?#comment-329264

\subsection{切凸包}
\inputminted{cpp}{contents/geometry/切凸包.cpp}

\subsection{V 图}
\inputminted{cpp}{contents/geometry/voronoi.cpp}

\subsection{Delaunay 三角剖分}
\inputminted{cpp}{contents/geometry/Delaunay.cpp}

\section{geometry3d}
\subsection{向量}
\inputminted{cpp}{contents/geometry/3d/vector.cpp}

\subsection{平面}
\inputminted{cpp}{contents/geometry/3d/plane.cpp}

\subsection{直线}
\inputminted{cpp}{contents/geometry/3d/line.cpp}

\subsection{凸包}
\inputminted{cpp}{contents/geometry/3d/convex.cpp}

\section{Misc}
\subsection{Pragma}
\inputminted{cpp}{contents/misc/pragma.cpp}

\subsection{Barrett}
\inputminted{cpp}{contents/misc/Barrett.cpp}

\subsection{LCS}
\inputminted{cpp}{contents/misc/lcs.cpp}

\subsection{日期公式}
\inputminted{cpp}{contents/misc/zeller.cpp}

\subsection{Xorshift}
\inputminted{cpp}{contents/misc/xorshift.cpp}

\section{配置}

\subsection{vimrc}
\inputminted{cpp}{contents/config/.vimrc}

\subsection{bashrc}
\inputminted{cpp}{contents/config/.bashrc}

\subsection{对拍}
需要 chmod +x
\inputminted{cpp}{contents/config/1.sh}

\subsection{编译参数}
\inputminted{text}{contents/tables/options.txt}

\subsection{随机素数}
\inputminted{text}{contents/tables/primes.txt}

\subsection{常数表}
\input{contents/tables/Addon.tex}

\section{注意事项}
\subsection{测试项目}
pbds tree,
float128, int128, long double,
submit 命令,
printfile,
MLE ?= RE,
pragma,
axv2,
python,

测试代码长度限制,尝试触发 NO-OUTPUT, OUTPUT-LIMIT, RUN-ERROR
\newline
\subsection{bugs}
看数据范围（多测总和）,
变量 shadow,
清空,
long long,
数组大小,
模数,
MLE?,
对拍记得看输出在不在变,
输出格式，
inf 开小，
答案初值，
STL 重构导致引用失效，
极端情况(n=1)
\newline
\onecolumn
\newpage

\begin{multicols}{3}
\section{tables}
\subsection{导数积分}
\input{contents/math/CalculusTable.tex}
\input{contents/math/IntegrationTable_NewMeta.tex}
\end{multicols}


\end{document}
